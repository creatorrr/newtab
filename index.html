<link rel="stylesheet" href="css/supersized.css"/>

<main>
  <div id="prevthumb"></div>
	<div id="nextthumb"></div>
	
	<!--Arrow Navigation-->
	<a id="prevslide" class="load-item"></a>
	<a id="nextslide" class="load-item"></a>
	
	<div id="thumb-tray" class="load-item">
		<div id="thumb-back"></div>
		<div id="thumb-forward"></div>
	</div>
	
	<!--Time Bar-->
	<div id="progress-back" class="load-item">
		<div id="progress-bar"></div>
	</div>
	
	<!--Control Bar-->
	<div id="controls-wrapper" class="load-item">
		<div id="controls">
			
			<a id="play-button"><img id="pauseplay" src="img/pause.png"/></a>
		
			<!--Slide counter-->
			<div id="slidecounter">
				<span class="slidenumber"></span> / <span class="totalslides"></span>
			</div>
			
			<!--Slide captions displayed here-->
			<div id="slidecaption"></div>
			
			<!--Thumb Tray button-->
			<a id="tray-button"><img id="tray-arrow" src="img/button-tray-up.png"/></a>
			
			<!--Navigation-->
			<ul id="slide-list"></ul>
			
		</div>
	</div>
</main>

<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="js/jquery.easing.js"></script>
<script src="js/supersized.3.2.7.js"></script>

<script>
// Wrap on dom ready function
jQuery(function($){
  // Globals
  var
  yql = "https://query.yahooapis.com/v1/public/yql?q=select%20title%2C%20enclosure.url%2C%20link%20from%20rss%20where%20url%3D%22http%3A%2F%2Fwww.nasa.gov%2Frss%2Fdyn%2Flg_image_of_the_day.rss%22&format=json&callback=",
  
  config = {
    slideshow: 1, autoplay: 1,

    random: 1, stop_loop: 0, slide_interval: 3000,

    transition: 1, // fade
    transition_speed: 1000,
    performance: 0, // normal
    
    new_window: 1, // Open links in new tab
    
    pause_hover: 0, keyboard_nav: 0,
    image_protect: 1, // disable dragging of image
    
    vertical_center: 1, horizontal_center: 1,
    fit_portrait: 1, // portrait images will not be exceed browser

    progress_bar: 0, thumb_links: 0, thumbnail_navigation: 1
  };

  $.getJSON(yql)
  .then(function(response){
    var images = _(response.query.results.item).map(function(k) {
      return {
        image: k.enclosure.url,
        title: k.title,
        url: k.link
      };
    });

    $.supersized(_(config).extend({slides: images}));
  })
  .done(function(){});
});

</script>
